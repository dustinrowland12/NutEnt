!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.vuelidate=n():t.vuelidate=n()}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=1)}([function(t,n,e){"use strict";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.r(n),e.d(n,"target",function(){return u}),e.d(n,"_setTarget",function(){return a}),e.d(n,"pushParams",function(){return l}),e.d(n,"popParams",function(){return s}),e.d(n,"withParams",function(){return d});var i=[],u=null,a=function(t){u=t};function l(){null!==u&&i.push(u),u={}}function s(){var t=u,n=u=i.pop()||null;return n&&(Array.isArray(n.$sub)||(n.$sub=[]),n.$sub.push(t)),t}function c(t){if("object"!==o(t)||Array.isArray(t))throw new Error("params must be an object");u=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(n){r(t,n,e[n])})}return t}({},u,t)}function f(t){var n=t(c);return function(){l();try{for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(this,e)}finally{s()}}}function d(t,n){return"object"===o(t)&&void 0!==n?(e=t,r=n,f(function(t){return function(){t(e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r.apply(this,o)}})):f(t);var e,r}},function(t,n,e){"use strict";function r(t){return null===t||void 0===t}function o(t){return null!==t&&void 0!==t}function i(t,n){return n.tag===t.tag&&n.key===t.key}function u(t){var n=t.tag;t.vm=new n({data:t.args})}function a(t,n,e){var r,i,u={};for(r=n;r<=e;++r)o(i=t[r].key)&&(u[i]=r);return u}function l(t,n,e){for(;n<=e;++n)u(t[n])}function s(t,n,e){for(;n<=e;++n){var r=t[n];o(r)&&(r.vm.$destroy(),r.vm=null)}}function c(t,n){t!==n&&(n.vm=t.vm,function(t){for(var n=Object.keys(t.args),e=0;e<n.length;e++)n.forEach(function(n){t.vm[n]=t.args[n]})}(n))}function f(t,n){o(t)&&o(n)?t!==n&&function(t,n){for(var e,f,d,h=0,y=0,v=t.length-1,p=t[0],m=t[v],b=n.length-1,g=n[0],M=n[b];h<=v&&y<=b;)r(p)?p=t[++h]:r(m)?m=t[--v]:i(p,g)?(c(p,g),p=t[++h],g=n[++y]):i(m,M)?(c(m,M),m=t[--v],M=n[--b]):i(p,M)?(c(p,M),p=t[++h],M=n[--b]):i(m,g)?(c(m,g),m=t[--v],g=n[++y]):(r(e)&&(e=a(t,h,v)),r(f=o(g.key)?e[g.key]:null)?(u(g),g=n[++y]):i(d=t[f],g)?(c(d,g),t[f]=void 0,g=n[++y]):(u(g),g=n[++y]));h>v?l(n,y,b):y>b&&s(t,h,v)}(t,n):o(n)?l(n,0,n.length-1):o(t)&&s(t,0,t.length-1)}function d(t,n,e){return{tag:t,key:n,args:e}}e.r(n);var h=e(0);function y(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){p(t,n,e[n])})}return t}function p(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.d(n,"Vuelidate",function(){return R}),e.d(n,"validationMixin",function(){return W}),e.d(n,"withParams",function(){return h.withParams});var b=function(){return null},g=function(t,n,e){return t.reduce(function(t,r){return t[e?e(r):r]=n(r),t},{})};function M(t){return"function"==typeof t}function $(t){return null!==t&&("object"===m(t)||M(t))}var _=function(t,n,e,r){if("function"==typeof e)return e.call(t,n,r);e=Array.isArray(e)?e:e.split(".");for(var o=0;o<e.length;o++){if(!n||"object"!==m(n))return r;n=n[e[o]]}return void 0===n?r:n},P="__isVuelidateAsyncVm";var j={$invalid:function(){var t=this,n=this.proxy;return this.nestedKeys.some(function(n){return t.refProxy(n).$invalid})||this.ruleKeys.some(function(t){return!n[t]})},$dirty:function(){var t=this;return!!this.dirty||0!==this.nestedKeys.length&&this.nestedKeys.every(function(n){return t.refProxy(n).$dirty})},$anyDirty:function(){var t=this;return!!this.dirty||0!==this.nestedKeys.length&&this.nestedKeys.some(function(n){return t.refProxy(n).$anyDirty})},$error:function(){return this.$dirty&&!this.$pending&&this.$invalid},$anyError:function(){return this.$anyDirty&&!this.$pending&&this.$invalid},$pending:function(){var t=this;return this.ruleKeys.some(function(n){return t.getRef(n).$pending})||this.nestedKeys.some(function(n){return t.refProxy(n).$pending})},$params:function(){var t=this,n=this.validations;return v({},g(this.nestedKeys,function(t){return n[t]&&n[t].$params||null}),g(this.ruleKeys,function(n){return t.getRef(n).$params}))}};function O(t){this.dirty=t;var n=this.proxy,e=t?"$touch":"$reset";this.nestedKeys.forEach(function(t){n[t][e]()})}var x={$touch:function(){O.call(this,!0)},$reset:function(){O.call(this,!1)},$flattenParams:function(){var t=this.proxy,n=[];for(var e in this.$params)if(this.isNested(e)){for(var r=t[e].$flattenParams(),o=0;o<r.length;o++)r[o].path.unshift(e);n=n.concat(r)}else n.push({path:[],name:e,params:this.$params[e]});return n}},w=Object.keys(j),k=Object.keys(x),z=null,A=function(t){if(z)return z;var n=t.extend({computed:{refs:function(){var t=this._vval;this._vval=this.children,f(t,this._vval);var n={};return this._vval.forEach(function(t){n[t.key]=t.vm}),n}},beforeCreate:function(){this._vval=null},beforeDestroy:function(){this._vval&&(f(this._vval),this._vval=null)},methods:{getModel:function(){return this.lazyModel?this.lazyModel(this.prop):this.model},getModelKey:function(t){var n=this.getModel();if(n)return n[t]},hasIter:function(){return!1}}}),e=n.extend({data:function(){return{rule:null,lazyModel:null,model:null,lazyParentModel:null,rootModel:null}},methods:{runRule:function(n){var e=this.getModel();Object(h.pushParams)();var r,o=this.rule.call(this.rootModel,e,n),i=$(r=o)&&M(r.then)?function(t,n){var e=new t({data:{p:!0,v:!1}});return n.then(function(t){e.p=!1,e.v=t},function(t){throw e.p=!1,e.v=!1,t}),e[P]=!0,e}(t,o):o,u=Object(h.popParams)();return{output:i,params:u&&u.$sub?u.$sub.length>1?u:u.$sub[0]:null}}},computed:{run:function(){var t=this,n=this.lazyParentModel();if(Array.isArray(n)&&n.__ob__){var e=n.__ob__.dep;e.depend();var r=e.constructor.target;if(!this._indirectWatcher){var o=r.constructor;this._indirectWatcher=new o(this,function(){return t.runRule(n)},null,{lazy:!0})}var i=this.getModel();if(!this._indirectWatcher.dirty&&this._lastModel===i)return this._indirectWatcher.depend(),r.value;this._lastModel=i,this._indirectWatcher.evaluate(),this._indirectWatcher.depend()}else this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null);return this._indirectWatcher?this._indirectWatcher.value:this.runRule(n)},$params:function(){return this.run.params},proxy:function(){var t=this.run.output;return t[P]?!!t.v:!!t},$pending:function(){var t=this.run.output;return!!t[P]&&t.p}},destroyed:function(){this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null)}}),r=n.extend({data:function(){return{dirty:!1,validations:null,lazyModel:null,model:null,prop:null,lazyParentModel:null,rootModel:null}},methods:v({},x,{refProxy:function(t){return this.getRef(t).proxy},getRef:function(t){return this.refs[t]},isNested:function(t){return"function"!=typeof this.validations[t]}}),computed:v({},j,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var t=this;return this.keys.filter(function(n){return!t.isNested(n)})},keys:function(){return Object.keys(this.validations).filter(function(t){return"$params"!==t})},proxy:function(){var t=this,n=g(this.keys,function(n){return{enumerable:!0,configurable:!0,get:function(){return t.refProxy(n)}}}),e=g(w,function(n){return{enumerable:!0,configurable:!0,get:function(){return t[n]}}}),r=g(k,function(n){return{enumerable:!1,configurable:!0,get:function(){return t[n]}}}),o=this.hasIter()?{$iter:{enumerable:!0,value:Object.defineProperties({},v({},n))}}:{};return Object.defineProperties({},v({},n,o,{$model:{enumerable:!0,get:function(){var n=t.lazyParentModel();return null!=n?n[t.prop]:null},set:function(n){var e=t.lazyParentModel();null!=e&&(e[t.prop]=n,t.$touch())}}},e,r))},children:function(){var t=this;return y(this.nestedKeys.map(function(n){return u(t,n)})).concat(y(this.ruleKeys.map(function(n){return a(t,n)}))).filter(Boolean)}})}),o=r.extend({methods:{isNested:function(t){return void 0!==this.validations[t]()},getRef:function(t){var n=this;return{get proxy(){return n.validations[t]()||!1}}}}}),i=r.extend({computed:{keys:function(){var t=this.getModel();return $(t)?Object.keys(t):[]},tracker:function(){var t=this,n=this.validations.$trackBy;return n?function(e){return"".concat(_(t.rootModel,t.getModelKey(e),n))}:function(t){return"".concat(t)}},getModelLazy:function(){var t=this;return function(){return t.getModel()}},children:function(){var t=this,n=this.validations,e=this.getModel(),o=v({},n);delete o.$trackBy;var i={};return this.keys.map(function(n){var u=t.tracker(n);return i.hasOwnProperty(u)?null:(i[u]=!0,d(r,u,{validations:o,prop:n,lazyParentModel:t.getModelLazy,model:e[n],rootModel:t.rootModel}))}).filter(Boolean)}},methods:{isNested:function(){return!0},getRef:function(t){return this.refs[this.tracker(t)]},hasIter:function(){return!0}}}),u=function(t,n){if("$each"===n)return d(i,n,{validations:t.validations[n],lazyParentModel:t.lazyParentModel,prop:n,lazyModel:t.getModel,rootModel:t.rootModel});var e=t.validations[n];if(Array.isArray(e)){var u=t.rootModel,a=g(e,function(t){return function(){return _(u,u.$v,t)}},function(t){return Array.isArray(t)?t.join("."):t});return d(o,n,{validations:a,lazyParentModel:b,prop:n,lazyModel:b,rootModel:u})}return d(r,n,{validations:e,lazyParentModel:t.getModel,prop:n,lazyModel:t.getModelKey,rootModel:t.rootModel})},a=function(t,n){return d(e,n,{rule:t.validations[n],lazyParentModel:t.lazyParentModel,lazyModel:t.getModel,rootModel:t.rootModel})};return z={VBase:n,Validation:r}},K=null;var S=function(t,n){var e=function(t){if(K)return K;for(var n=t.constructor;n.super;)n=n.super;return K=n,n}(t),r=A(e),o=r.Validation;return new(0,r.VBase)({computed:{children:function(){var e="function"==typeof n?n.call(t):n;return[d(o,"$v",{validations:e,lazyParentModel:b,prop:"$v",model:t,rootModel:t})]}}})},W={data:function(){var t=this.$options.validations;return t&&(this._vuelidate=S(this,t)),{}},beforeCreate:function(){var t=this.$options;t.validations&&(t.computed||(t.computed={}),t.computed.$v||(t.computed.$v=function(){return this._vuelidate?this._vuelidate.refs.$v.proxy:null}))},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};function R(t){t.mixin(W)}n.default=R}])});